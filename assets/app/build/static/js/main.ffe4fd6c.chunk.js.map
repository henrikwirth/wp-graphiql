{"version":3,"sources":["App.js","index.js","../node_modules/graphql-language-service-interface/dist sync /^.*$"],"names":["graphQLFetcher","graphQLParams","nonce","window","wpGraphiQLSettings","endpoint","graphqlEndpoint","location","origin","fetch","method","credentials","headers","body","JSON","stringify","then","response","json","App","useState","schema","query","explorerIsOpen","state","setState","useEffect","getIntrospectionQuery","result","editor","GraphiQL","getQueryEditor","setOption","options","extraKeys","_handleInspectOperation","buildClientSchema","data","cm","mousePos","parsedQuery","parse","console","error","token","getTokenAt","start","line","ch","end","position","indexFromPos","def","definitions","find","definition","loc","log","operationKind","kind","operation","operationName","name","value","selector","el","document","querySelector","scrollIntoView","_handleEditQuery","_handleToggleExplorer","className","onEdit","onRunOperation","handleRunQuery","onToggleExplorer","ref","fetcher","onEditQuery","Toolbar","Button","onClick","handlePrettifyQuery","label","title","handleToggleHistory","ReactDOM","render","getElementById","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports"],"mappings":"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","file":"static/js/main.ffe4fd6c.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport GraphiQL from 'graphiql';\nimport GraphiQLExplorer from \"graphiql-explorer\";\nimport {buildClientSchema, getIntrospectionQuery, parse} from \"graphql\";\n\n// import { makeDefaultArg, getDefaultScalarArgValue } from \"./CustomArgs\";\n\n/**\n * Style the app\n */\nimport 'graphiql/graphiql.css';\nimport './app.css';\n\nfunction graphQLFetcher(graphQLParams) {\n\n\t/**\n\t * Get the nonce & endpoint from the localized wpGraphiQLSettings object\n\t * @type {null}\n\t */\n\tlet nonce = (window.wpGraphiQLSettings && window.wpGraphiQLSettings.nonce) ? window.wpGraphiQLSettings.nonce : null;\n\tlet endpoint = (window.wpGraphiQLSettings && window.wpGraphiQLSettings.graphqlEndpoint) ? window.wpGraphiQLSettings.graphqlEndpoint : window.location.origin;\n\n\t/**\n\t * Fetch the WPGraphQL API\n\t */\n\treturn fetch(endpoint, {\n\t\tmethod: 'post',\n\t\tcredentials: 'same-origin',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t\t'X-WP-Nonce': nonce\n\t\t},\n\t\tbody: JSON.stringify(graphQLParams),\n\t}).then(response => response.json());\n\n}\n\nconst DEFAULT_QUERY = `# shift-option/alt-click on a query below to jump to it in the explorer\n# option/alt-click on a field in the explorer to select all subfields\nquery GET_PAGES {\n  pages {\n  \tedges {\n  \t\tnode {\n  \t\t\ttitle\n  \t\t}\n  \t}\n  }\n}\n`;\n\nconst App = () => {\n\n\tconst [state, setState] = useState({\n\t\tschema: null,\n\t\tquery: DEFAULT_QUERY,\n\t\texplorerIsOpen: true\n\t})\n\n\n\tuseEffect(() => {\n\t\tgraphQLFetcher({\n\t\t\tquery: getIntrospectionQuery()\n\t\t}).then(result => {\n\t\t\tconst editor = GraphiQL.getQueryEditor();\n\t\t\teditor.setOption(\"extraKeys\", {\n\t\t\t\t...(editor.options.extraKeys || {}),\n\t\t\t\t\"Shift-Alt-LeftClick\": _handleInspectOperation\n\t\t\t});\n\n\t\t\tsetState({schema: buildClientSchema(result.data)});\n\t\t})\n\t})\n\n\tconst _handleInspectOperation = (cm, mousePos) => {\n\t\tconst parsedQuery = parse(state.query || \"\");\n\n\t\tif (!parsedQuery) {\n\t\t\tconsole.error(\"Couldn't parse query document\");\n\t\t\treturn null;\n\t\t}\n\n\t\tlet token = cm.getTokenAt(mousePos);\n\t\tlet start = { line: mousePos.line, ch: token.start };\n\t\tlet end = { line: mousePos.line, ch: token.end };\n\t\tlet relevantMousePos = {\n\t\t\tstart: cm.indexFromPos(start),\n\t\t\tend: cm.indexFromPos(end)\n\t\t};\n\n\t\tlet position = relevantMousePos;\n\n\t\tlet def = parsedQuery.definitions.find(definition => {\n\t\t\tif (!definition.loc) {\n\t\t\t\tconsole.log(\"Missing location information for definition\");\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst { start, end } = definition.loc;\n\t\t\treturn start <= position.start && end >= position.end;\n\t\t});\n\n\t\tif (!def) {\n\t\t\tconsole.error(\n\t\t\t\t\"Unable to find definition corresponding to mouse position\"\n\t\t\t);\n\t\t\treturn null;\n\t\t}\n\n\t\tlet operationKind =\n\t\t\tdef.kind === \"OperationDefinition\"\n\t\t\t\t? def.operation\n\t\t\t\t: def.kind === \"FragmentDefinition\"\n\t\t\t\t? \"fragment\"\n\t\t\t\t: \"unknown\";\n\n\t\tlet operationName =\n\t\t\tdef.kind === \"OperationDefinition\" && !!def.name\n\t\t\t\t? def.name.value\n\t\t\t\t: def.kind === \"FragmentDefinition\" && !!def.name\n\t\t\t\t? def.name.value\n\t\t\t\t: \"unknown\";\n\n\t\tlet selector = `.graphiql-explorer-root #${operationKind}-${operationName}`;\n\n\t\tlet el = document.querySelector(selector);\n\t\tel && el.scrollIntoView();\n\t}\n\n\tconst _handleEditQuery = (query) => setState({ query })\n\n\tconst _handleToggleExplorer = () => {\n\t\tsetState({ explorerIsOpen: !state.explorerIsOpen })\n\t}\n\n\treturn (\n\t\t<div className=\"wrapper\">\n\t\t\t<GraphiQLExplorer\n\t\t\t\tschema={state.schema}\n\t\t\t\tquery={state.query}\n\t\t\t\tonEdit={_handleEditQuery}\n\t\t\t\tonRunOperation={operationName =>\n\t\t\t\t\tGraphiQL.handleRunQuery(operationName)\n\t\t\t\t}\n\t\t\t\texplorerIsOpen={state.explorerIsOpen}\n\t\t\t\tonToggleExplorer={_handleToggleExplorer}\n\t\t\t\t// getDefaultScalarArgValue={getDefaultScalarArgValue}\n\t\t\t\t// makeDefaultArg={makeDefaultArg}\n\t\t\t/>\n\t\t\t<GraphiQL\n\t\t\t\tref={ref => (GraphiQL = ref)}\n\t\t\t\tfetcher={graphQLFetcher}\n\t\t\t\tschema={state.schema}\n\t\t\t\tquery={state.query}\n\t\t\t\tonEditQuery={_handleEditQuery}\n\t\t\t>\n\t\t\t\t<GraphiQL.Toolbar>\n\t\t\t\t\t<GraphiQL.Button\n\t\t\t\t\t\tonClick={() => GraphiQL.handlePrettifyQuery()}\n\t\t\t\t\t\tlabel=\"Prettify\"\n\t\t\t\t\t\ttitle=\"Prettify Query (Shift-Ctrl-P)\"\n\t\t\t\t\t/>\n\t\t\t\t\t<GraphiQL.Button\n\t\t\t\t\t\tonClick={() => GraphiQL.handleToggleHistory()}\n\t\t\t\t\t\tlabel=\"History\"\n\t\t\t\t\t\ttitle=\"Show History\"\n\t\t\t\t\t/>\n\t\t\t\t\t<GraphiQL.Button\n\t\t\t\t\t\tonClick={_handleToggleExplorer}\n\t\t\t\t\t\tlabel=\"Explorer\"\n\t\t\t\t\t\ttitle=\"Toggle Explorer\"\n\t\t\t\t\t/>\n\t\t\t\t</GraphiQL.Toolbar>\n\t\t\t</GraphiQL>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('wp-graphiql'));\n","var map = {\n\t\".\": 39,\n\t\"./\": 39,\n\t\"./GraphQLLanguageService\": 65,\n\t\"./GraphQLLanguageService.js\": 65,\n\t\"./GraphQLLanguageService.js.flow\": 188,\n\t\"./autocompleteUtils\": 47,\n\t\"./autocompleteUtils.js\": 47,\n\t\"./autocompleteUtils.js.flow\": 189,\n\t\"./getAutocompleteSuggestions\": 42,\n\t\"./getAutocompleteSuggestions.js\": 42,\n\t\"./getAutocompleteSuggestions.js.flow\": 190,\n\t\"./getDefinition\": 48,\n\t\"./getDefinition.js\": 48,\n\t\"./getDefinition.js.flow\": 191,\n\t\"./getDiagnostics\": 50,\n\t\"./getDiagnostics.js\": 50,\n\t\"./getDiagnostics.js.flow\": 192,\n\t\"./getHoverInformation\": 51,\n\t\"./getHoverInformation.js\": 51,\n\t\"./getHoverInformation.js.flow\": 193,\n\t\"./getOutline\": 64,\n\t\"./getOutline.js\": 64,\n\t\"./getOutline.js.flow\": 194,\n\t\"./index\": 39,\n\t\"./index.js\": 39,\n\t\"./index.js.flow\": 195\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 92;"],"sourceRoot":""}